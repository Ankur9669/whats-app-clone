{"version":3,"sources":["components/SidebarLeftHeader.js","components/SidebarLeftMessage.js","components/SidebarLeft.js","components/SidebarRightChat.js","axios.js","components/SidebarRightFooter.js","components/SidebarRightHeader.js","components/SidebarRight.js","App.js","reportWebVitals.js","index.js"],"names":["SidebarLeftHeader","className","src","alt","IconButton","placeholder","SidebarLeftMessage","history","useHistory","useState","window","innerWidth","width","onClick","push","style","color","fontWeight","SidebarLeft","opacity","SidebarRightChat","props","messageRef","useRef","useEffect","current","scrollTop","scrollHeight","messages","ref","map","message","received","name","timestamp","instance","axios","create","baseURL","SidebarRightFooter","setMessage","sendMessage","console","log","length","post","Date","toUTCString","onChange","e","target","value","onKeyPress","key","SidebarRightHeader","SidebarRight","App","setMessages","setWidth","handleResize","get","then","response","data","alert","addEventListener","pusher","Pusher","cluster","channel","subscribe","bind","unsubscribe","unbind_all","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.58a636e5.chunk.js","sourcesContent":["import React from 'react'\r\nimport \"../css/sidebarleftheader.css\";\r\nimport PhoneIcon from '@material-ui/icons/Phone';\r\nimport MessageIcon from '@material-ui/icons/Message';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport \"../css/sidebarleftsearchbar.css\";\r\n\r\nfunction SidebarLeftHeader() {\r\n    return (\r\n        <div className = \"sidebar-left-header-container\">\r\n        <div className = \"sidebar-left-header\">\r\n            <div className = \"sidebar-left-header-img-container\">\r\n                <img\r\n                className = \"sidebar-left-header-img\" \r\n                src = \"https://d27jswm5an3efw.cloudfront.net/app/uploads/2020/12/Casey2-150x150.jpg\"\r\n                alt = \"no-image\">      \r\n                </img>\r\n            </div>\r\n\r\n            <div className = \"sidebar-left-header-icons-container\">\r\n                <IconButton>\r\n                    <PhoneIcon className = \"icons\"/>\r\n                </IconButton>\r\n\r\n                <IconButton>\r\n                    <MessageIcon className = \"icons\"/>\r\n                </IconButton>\r\n\r\n                <IconButton>\r\n                    <MoreVertIcon className = \"icons\"/>\r\n                </IconButton>\r\n            </div>\r\n        </div>\r\n        <div className = \"sidebar-left-search-bar-container\">\r\n            <SearchIcon className = \"sidebar-left-search-bar-icon\"/>\r\n            <textarea\r\n            className = \"sidebar-left-search-bar\" \r\n            placeholder = \"Search Or Start A New Chat\"></textarea>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default SidebarLeftHeader\r\n","import React from 'react';\r\nimport \"../css/sidebarleftmessage.css\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useState} from \"react\";\r\n\r\nfunction SidebarLeftMessage() \r\n{\r\n    const history = useHistory();\r\n    const [width, setWidth] = useState(window.innerWidth);\r\n\r\n    function handleClick()\r\n    {\r\n        if(width < 700)\r\n        {\r\n            history.push(\"/chat\");\r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <div className = \"sidebar-left-message\" onClick = {handleClick}>\r\n            <div className = \"sidebar-left-message-img\">\r\n                <img\r\n                    className = \"sidebar-left-header-img\" \r\n                    src = \"https://d27jswm5an3efw.cloudfront.net/app/uploads/2020/12/Casey2-150x150.jpg\"\r\n                    alt = \"no-image\">      \r\n                </img>\r\n            </div>\r\n            <div className = \"sidebar-left-message-msg\">\r\n                <p style = {{color: \"white\", fontWeight : \"600\"}}>Ankur gupta</p>\r\n                <p style = {{color: \"white\", fontWeight : \"400\"}}>Yes i am online</p>\r\n            </div>\r\n\r\n            <div className = \"sidebar-left-message-time\">\r\n                <p style = {{color: \"white\"}}>7:03PM</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SidebarLeftMessage\r\n","import React from 'react'\r\nimport \"../css/sidebarleft.css\";\r\nimport SidebarLeftHeader from './SidebarLeftHeader';\r\nimport SidebarLeftMessage from './SidebarLeftMessage';\r\n\r\n\r\nfunction SidebarLeft() \r\n{\r\n      return (\r\n        <div className = \"sidebar-left\">\r\n\r\n            {/* Sidebarleftheader*/}\r\n            <SidebarLeftHeader/>\r\n\r\n            <div className = \"sidebar-left-message-container\">\r\n\r\n                {/* Sidebarleftmessages*/}\r\n                <SidebarLeftMessage/>\r\n                <hr style = {{opacity:\"0.1\"}}/>\r\n                <SidebarLeftMessage/>\r\n                <hr style = {{opacity:\"0.1\"}}/>\r\n                <SidebarLeftMessage/>\r\n                <hr style = {{opacity:\"0.1\"}}/>\r\n\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SidebarLeft\r\n","import React from 'react'\r\nimport \"../css/sidebarrightchat.css\";\r\nimport {useEffect, useRef} from \"react\";\r\n\r\nfunction SidebarRightChat(props) \r\n{\r\n    //Ref for scrolling to bottom\r\n    const messageRef = useRef();\r\n\r\n    useEffect(() => {\r\n\r\n        //Whenever new message would come the container would scroll to bottom\r\n        if(messageRef)\r\n        {\r\n            //console.log(messageRef.current.scrollHeight);\r\n            messageRef.current.scrollTop = messageRef.current.scrollHeight;\r\n        }     \r\n    }, [props.messages]);\r\n\r\n   \r\n    return (\r\n        <div className = \"sidebar-right-chat\" ref = {messageRef}>\r\n            {\r\n                props.messages.map(message =>\r\n                {\r\n                    return (<div className = {message.received ? \"chat-msg-received\" : \r\n                    \"chat-msg-sent\"}>\r\n                        <span className = \"chat-sender-name\">\r\n                            <p>{message?.name}</p>\r\n                        </span>\r\n                        <span className = \"chat-msg\">\r\n                            <p>{message?.message}</p>                \r\n                        </span>\r\n                        <span className = \"chat-date-time\">\r\n                            <p>{message?.timestamp}</p>\r\n                        </span>\r\n                        \r\n                    </div>)\r\n                })\r\n            }           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SidebarRightChat\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"http://localhost:8000\"\r\n});\r\n\r\nexport default instance;","import React, {useState} from 'react'\r\nimport \"../css/sidebarrightfooter.css\";\r\nimport EmojiEmotionsOutlinedIcon from '@material-ui/icons/EmojiEmotionsOutlined';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport axios from \"../axios\";\r\nfunction SidebarRightFooter() \r\n{\r\n    const [message, setMessage] = useState(\"\");\r\n    function sendMessage()\r\n    {\r\n        console.log(message);\r\n\r\n        //If msg is empty dont send anything\r\n        if(message.length > 0)\r\n        {\r\n            axios.post(\"/v1/messages\", {\r\n                message: message,\r\n                name: \"Ankur\",\r\n                timestamp: new Date().toUTCString(),\r\n                received: false\r\n            });\r\n            setMessage(\"\");\r\n        } \r\n    }\r\n\r\n    //If enter button is pressed than send msg\r\n    function handleKeyPress(e)\r\n    {\r\n        if(e.key === \"Enter\")\r\n        {\r\n            sendMessage();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className = \"sidebar-right-footer\">\r\n            <IconButton>\r\n                <EmojiEmotionsOutlinedIcon className = \"icons\"/>\r\n            </IconButton>\r\n            \r\n            <input\r\n            className = \"chat-bar\" \r\n            placeholder = \"Send chat\"\r\n            onChange = {(e) => setMessage(e.target.value)}\r\n            onKeyPress = {handleKeyPress}\r\n            value = {message}>\r\n            </input>\r\n            <IconButton onClick = {sendMessage}>\r\n                <SendIcon className = \"icons\"/>\r\n            </IconButton>  \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SidebarRightFooter\r\n","import React from 'react'\r\nimport \"../css/sidebarrightheader.css\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nfunction SidebarRightHeader() {\r\n    return (\r\n        <div className = \"sidebar-right-header\">\r\n            <div className = \"sidebar-right-header-img-container\">\r\n                <img\r\n                className = \"sidebar-right-header-img\" \r\n                src = \"https://d27jswm5an3efw.cloudfront.net/app/uploads/2020/12/Casey2-150x150.jpg\"\r\n                alt = \"no-image\">      \r\n                </img>\r\n            </div>\r\n            <div className = \"sidebar-right-header-name-container\">\r\n                <p style = {{color: \"white\", fontWeight : \"600\"}}>Ankur gupta</p>\r\n                <p style = {{color: \"white\", fontWeight : \"400\"}}>online</p>\r\n            </div>\r\n\r\n            <div className = \"sidebar-right-header-icons-container\">\r\n                <IconButton>\r\n                    <SearchIcon className = \"icons\"/>\r\n                </IconButton>\r\n\r\n                <IconButton>\r\n                    <MoreVertIcon className = \"icons\"/>\r\n                </IconButton>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SidebarRightHeader\r\n","import React from 'react'\r\nimport \"../css/sidebarright.css\"\r\nimport SidebarRightChat from './SidebarRightChat'\r\nimport SidebarRightFooter from './SidebarRightFooter'\r\nimport SidebarRightHeader from './SidebarRightHeader'\r\n\r\n\r\nfunction SidebarRight(props)\r\n{\r\n   \r\n    return (\r\n        <div className = \"sidebar-right\">\r\n\r\n            {/* SidebarRight Header */}\r\n            <SidebarRightHeader/>\r\n\r\n            <SidebarRightChat messages = {props.messages}/>\r\n\r\n            <SidebarRightFooter/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SidebarRight\r\n","import './App.css';\nimport SidebarLeft from './components/SidebarLeft';\nimport SidebarRight from './components/SidebarRight';\nimport {useEffect, useState} from \"react\";\nimport Pusher from 'pusher-js';\nimport axios from \"./axios\";\nimport {BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\n\nfunction App() {\n\n  const [messages, setMessages] = useState([]);\n  const [width, setWidth] = useState(window.innerWidth);\n\n  //This will fetch all the previous messages.\n  useEffect(() => \n  {\n    axios.get(\"/v1/messages\")\n    .then((response) => \n    {\n        if(response)\n        {\n          setMessages(response.data);\n        }\n        else{\n          alert(\"Some Error in fetching\");\n        }\n    });\n    \n    window.addEventListener(\"resize\", handleResize);\n  }, [])\n\n  //This would fetch the latest message\n  useEffect(() => {\n\n    //Pusher is for making mongodb realtime that is as soon as something would \n    //change it pusher would inform react about that.\n    var pusher = new Pusher('4cee5d7aff5e3596cb6c', \n    {\n      cluster: 'ap2'\n    });\n\n    var channel = pusher.subscribe('messages');\n    channel.bind('inserted', \n    function(message) \n    {\n      setMessages([...messages, message]);\n    });  \n    \n    return () => {\n      pusher.unsubscribe();\n      channel.unbind_all();\n    }\n  }, [messages]);\n\n  //This is a function which is handling resizing of the screen\n  function handleResize()\n  {\n    setWidth(window.innerWidth);\n  }\n\n // if screen width is less than 700px the display like this\n  return width > 700 ? \n  (\n    <div className=\"app\">\n      \n      {/* SidebarLeft component */}\n      <SidebarLeft/>\n      \n      {/* SidebarRight component */}\n      <SidebarRight messages = {messages}/>\n    </div>\n  ) :\n  (\n    <div className=\"app\">\n      \n      <Router>\n          <Switch>\n            <Route path = \"/chat\">\n                <SidebarRight messages = {messages}/>    \n            </Route>\n\n              <Route path = \"/\">\n                {/* SidebarLeft component */}\n                <SidebarLeft/>\n              </Route>\n          </Switch>\n        \n      \n      </Router>\n    </div>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}